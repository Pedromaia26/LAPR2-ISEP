<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1381px" preserveAspectRatio="none" style="width:1844px;height:1381px;background:#FFFFFF;" version="1.1" viewBox="0 0 1844 1381" width="1844px" zoomAndPan="magnify"><defs><filter height="300%" id="fl97j0h0ludzu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="1180.6172" style="stroke:#A80036;stroke-width:1.0;" width="10" x="49.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="694.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="192.8281"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="362.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="915.9844"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="635.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="842.5" y="221.9609"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="304.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="842.5" y="945.1172"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="546.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1099.5" y="251.0938"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1099.5" y="827.7188"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="275.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1099.5" y="974.25"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1104.5" y="1011.3828"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1104.5" y="1083.5156"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1104.5" y="1155.6484"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="517.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1285.5" y="280.2266"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="309.3594"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="368.4922"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="427.625"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="486.7578"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="545.8906"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="605.0234"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="664.1563"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="723.2891"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1681.5" y="1219.7813"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="54" x2="54" y1="88.2969" y2="1296.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="669" x2="669" y1="88.2969" y2="1296.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="847" x2="847" y1="88.2969" y2="1296.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="998" x2="998" y1="88.2969" y2="1296.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1104" x2="1104" y1="88.2969" y2="1296.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1290" x2="1290" y1="88.2969" y2="1296.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1564.5" x2="1564.5" y1="88.2969" y2="1296.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1686.5" x2="1686.5" y1="88.2969" y2="1296.9141"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1790.5" x2="1790.5" y1="793.9375" y2="1296.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="5" y="84.9951">Receptionist</text><ellipse cx="54.5" cy="15" fill="#FEFECE" filter="url(#fl97j0h0ludzu)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M54.5,23 L54.5,50 M41.5,31 L67.5,31 M54.5,50 L41.5,65 M54.5,50 L67.5,65 " fill="none" filter="url(#fl97j0h0ludzu)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="5" y="1308.9092">Receptionist</text><ellipse cx="54.5" cy="1322.2109" fill="#FEFECE" filter="url(#fl97j0h0ludzu)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M54.5,1330.2109 L54.5,1357.2109 M41.5,1338.2109 L67.5,1338.2109 M54.5,1357.2109 L41.5,1372.2109 M54.5,1357.2109 L67.5,1372.2109 " fill="none" filter="url(#fl97j0h0ludzu)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="125" x="605" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="612" y="72.9951">:RegistClient UI</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="125" x="605" y="1295.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="612" y="1315.9092">:RegistClient UI</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="187" x="752" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="759" y="72.9951">:RegistClientCrontroller</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="187" x="752" y="1295.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="759" y="1315.9092">:RegistClientCrontroller</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="953" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="960" y="72.9951">:Company</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="953" y="1295.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="960" y="1315.9092">:Company</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1054" y="36.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1079" y="56.6982">store:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1061" y="72.9951">ClientStore</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1054" y="1295.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1079" y="1315.9092">store:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1061" y="1332.2061">ClientStore</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1230" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1237" y="72.9951">:ClientMapper</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="117" x="1230" y="1295.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1237" y="1315.9092">:ClientMapper</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="118" x="1503.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1510.5" y="72.9951">dto:ClientDTO</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="118" x="1503.5" y="1295.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1510.5" y="1315.9092">dto:ClientDTO</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="98" x="1635.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1642.5" y="72.9951">AuthFacade</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="98" x="1635.5" y="1295.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1642.5" y="1315.9092">AuthFacade</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="1747.5" y="1295.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1754.5" y="1315.9092">nc: Client</text><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="1180.6172" style="stroke:#A80036;stroke-width:1.0;" width="10" x="49.5" y="98.2969"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="44.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="694.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="192.8281"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="362.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="915.9844"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="635.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="842.5" y="221.9609"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="304.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="842.5" y="945.1172"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="546.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1099.5" y="251.0938"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1099.5" y="827.7188"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="275.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1099.5" y="974.25"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1104.5" y="1011.3828"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1104.5" y="1083.5156"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1104.5" y="1155.6484"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="517.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1285.5" y="280.2266"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="309.3594"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="368.4922"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="427.625"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="486.7578"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="545.8906"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="605.0234"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="664.1563"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1559.5" y="723.2891"/><rect fill="#FFFFFF" filter="url(#fl97j0h0ludzu)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1681.5" y="1219.7813"/><polygon fill="#A80036" points="652.5,115.4297,662.5,119.4297,652.5,123.4297,656.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="59.5" x2="658.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="66.5" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="79.5" y="114.3638">starts new Client</text><polygon fill="#A80036" points="70.5,159.6953,60.5,163.6953,70.5,167.6953,66.5,163.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="64.5" x2="668.5" y1="163.6953" y2="163.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="76.5" y="151.063">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="396" x="89.5" y="143.4966">request data(CCN, National Healthcare Service (NHS) number,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="564" x="93.5" y="158.6294">Birth date, Sex(Opcional), Tax Identification number (TIF), E-mail, Name, Phone number)</text><polygon fill="#A80036" points="652.5,188.8281,662.5,192.8281,652.5,196.8281,656.5,192.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="59.5" x2="658.5" y1="192.8281" y2="192.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="66.5" y="187.7622">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="78.5" y="187.7622">types requested data</text><polygon fill="#A80036" points="830.5,217.9609,840.5,221.9609,830.5,225.9609,834.5,221.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="674.5" x2="836.5" y1="221.9609" y2="221.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="681.5" y="216.895">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="694.5" y="216.895">createNewClient(dto)</text><polygon fill="#A80036" points="1087.5,247.0938,1097.5,251.0938,1087.5,255.0938,1091.5,251.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="852.5" x2="1093.5" y1="251.0938" y2="251.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="859.5" y="246.0278">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="872.5" y="246.0278">nc=createNewClient(dto)</text><polygon fill="#A80036" points="1273.5,276.2266,1283.5,280.2266,1273.5,284.2266,1277.5,280.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1109.5" x2="1279.5" y1="280.2266" y2="280.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1116.5" y="275.1606">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="1129.5" y="275.1606">toModel(dto)</text><polygon fill="#A80036" points="1547.5,305.3594,1557.5,309.3594,1547.5,313.3594,1551.5,309.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1295.5" x2="1553.5" y1="309.3594" y2="309.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1302.5" y="304.2935">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1315.5" y="304.2935">ccn=getCCN()</text><polygon fill="#A80036" points="1547.5,364.4922,1557.5,368.4922,1547.5,372.4922,1551.5,368.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1295.5" x2="1553.5" y1="368.4922" y2="368.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1302.5" y="363.4263">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1315.5" y="363.4263">nhs=getNHS()</text><polygon fill="#A80036" points="1547.5,423.625,1557.5,427.625,1547.5,431.625,1551.5,427.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1295.5" x2="1553.5" y1="427.625" y2="427.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1302.5" y="422.5591">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="1315.5" y="422.5591">birthDate=getBirthDate()</text><polygon fill="#A80036" points="1547.5,482.7578,1557.5,486.7578,1547.5,490.7578,1551.5,486.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1295.5" x2="1553.5" y1="486.7578" y2="486.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1302.5" y="481.6919">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="1325.5" y="481.6919">sex=getSex()</text><polygon fill="#A80036" points="1547.5,541.8906,1557.5,545.8906,1547.5,549.8906,1551.5,545.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1295.5" x2="1553.5" y1="545.8906" y2="545.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1302.5" y="540.8247">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="1324.5" y="540.8247">tif=getTIF()</text><polygon fill="#A80036" points="1547.5,601.0234,1557.5,605.0234,1547.5,609.0234,1551.5,605.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1295.5" x2="1553.5" y1="605.0234" y2="605.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1302.5" y="599.9575">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1324.5" y="599.9575">email=getEmail()</text><polygon fill="#A80036" points="1547.5,660.1563,1557.5,664.1563,1547.5,668.1563,1551.5,664.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1295.5" x2="1553.5" y1="664.1563" y2="664.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1302.5" y="659.0903">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1323.5" y="659.0903">name=getName()</text><polygon fill="#A80036" points="1547.5,719.2891,1557.5,723.2891,1547.5,727.2891,1551.5,723.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1295.5" x2="1553.5" y1="723.2891" y2="723.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1302.5" y="718.2231">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="1324.5" y="718.2231">phoneNumber=getPhoneNumber()</text><polygon fill="#A80036" points="1735.5,793.5547,1745.5,797.5547,1735.5,801.5547,1739.5,797.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1290.5" x2="1741.5" y1="797.5547" y2="797.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1297.5" y="784.9224">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="1319.5" y="777.356">create(ccn, nhs, birthDate, sex, tif,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="1323.5" y="792.4888">email, name, phoneNumber)</text><rect fill="#FEFECE" filter="url(#fl97j0h0ludzu)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="1747.5" y="761.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1754.5" y="781.2842">nc: Client</text><polygon fill="#A80036" points="1087.5,823.7188,1097.5,827.7188,1087.5,831.7188,1091.5,827.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="852.5" x2="1093.5" y1="827.7188" y2="827.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="859.5" y="822.6528">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="881.5" y="822.6528">validateNewClient(nc)</text><polygon fill="#A80036" points="70.5,882.8516,60.5,886.8516,70.5,890.8516,66.5,886.8516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="64.5" x2="668.5" y1="886.8516" y2="886.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="76.5" y="881.7856">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="98.5" y="881.7856">shows the data and request a confirmation</text><polygon fill="#A80036" points="652.5,911.9844,662.5,915.9844,652.5,919.9844,656.5,915.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="59.5" x2="658.5" y1="915.9844" y2="915.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="66.5" y="910.9185">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="88.5" y="910.9185">confirms the data</text><polygon fill="#A80036" points="830.5,941.1172,840.5,945.1172,830.5,949.1172,834.5,945.1172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="674.5" x2="836.5" y1="945.1172" y2="945.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="681.5" y="940.0513">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="703.5" y="940.0513">saveNewClient()</text><polygon fill="#A80036" points="1087.5,970.25,1097.5,974.25,1087.5,978.25,1091.5,974.25" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="852.5" x2="1093.5" y1="974.25" y2="974.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="859.5" y="969.1841">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="882.5" y="969.1841">saveNewClient(nc)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1114.5" x2="1156.5" y1="1003.3828" y2="1003.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1156.5" x2="1156.5" y1="1003.3828" y2="1016.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1115.5" x2="1156.5" y1="1016.3828" y2="1016.3828"/><polygon fill="#A80036" points="1125.5,1012.3828,1115.5,1016.3828,1125.5,1020.3828,1121.5,1016.3828" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1121.5" y="998.3169">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="1143.5" y="998.3169">validateNewClient(nc)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1114.5" x2="1156.5" y1="1075.5156" y2="1075.5156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1156.5" x2="1156.5" y1="1075.5156" y2="1088.5156"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1115.5" x2="1156.5" y1="1088.5156" y2="1088.5156"/><polygon fill="#A80036" points="1125.5,1084.5156,1115.5,1088.5156,1125.5,1092.5156,1121.5,1088.5156" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1121.5" y="1070.4497">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1143.5" y="1070.4497">addNewClient(nc)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1114.5" x2="1156.5" y1="1147.6484" y2="1147.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1156.5" x2="1156.5" y1="1147.6484" y2="1160.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1115.5" x2="1156.5" y1="1160.6484" y2="1160.6484"/><polygon fill="#A80036" points="1125.5,1156.6484,1115.5,1160.6484,1125.5,1164.6484,1121.5,1160.6484" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1121.5" y="1142.5825">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1142.5" y="1142.5825">sendEmail(nc)</text><polygon fill="#A80036" points="1669.5,1215.7813,1679.5,1219.7813,1669.5,1223.7813,1673.5,1219.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1109.5" x2="1675.5" y1="1219.7813" y2="1219.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1116.5" y="1214.7153">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1138.5" y="1214.7153">CreateUser(nc)</text><polygon fill="#A80036" points="65.5,1274.9141,55.5,1278.9141,65.5,1282.9141,61.5,1278.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="59.5" x2="668.5" y1="1278.9141" y2="1278.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="71.5" y="1273.8481">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="93.5" y="1273.8481">informs operation success</text><!--MD5=[35d2715254bf84bc3e56e1345e2a7556]
@startuml
actor Receptionist as Adm
participant ":RegistClient UI" as System
participant ":RegistClientCrontroller" as RCC
participant ":Company" as ML
participant "store: \nClientStore" as CS
participant ":ClientMapper" as cm
participant "dto:ClientDTO" as cdto
participant "AuthFacade" as AF



autonumber
activate Adm
Adm -> System: starts new Client
activate System


System - -> Adm: request data(CCN, National Healthcare Service (NHS) number,\n Birth date, Sex(Opcional), Tax Identification number (TIF), E-mail, Name, Phone number)
deactivate System




Adm -> System: types requested data
activate System
System- ->RCC: createNewClient(dto)
activate RCC
RCC- ->CS: nc=createNewClient(dto)
activate CS


CS- ->cm: toModel(dto)
activate cm
cm- ->cdto: ccn=getCCN()
activate cdto
deactivate cdto
cm- ->cdto: nhs=getNHS()
activate cdto
deactivate cdto
cm- ->cdto: birthDate=getBirthDate()
activate cdto
deactivate cdto
cm- ->cdto: sex=getSex()
activate cdto
deactivate cdto
cm- ->cdto: tif=getTIF()
activate cdto
deactivate cdto
cm- ->cdto: email=getEmail()
activate cdto
deactivate cdto
cm- ->cdto: name=getName()
activate cdto
deactivate cdto
cm- ->cdto: phoneNumber=getPhoneNumber()
activate cdto
deactivate cdto


create "nc: Client" as NC
cm- ->NC:  create(ccn, nhs, birthDate, sex, tif,\n email, name, phoneNumber)



deactivate cm
deactivate CS

RCC- ->CS:validateNewClient(nc)
Activate CS
deactivate CS

deactivate RCC

System - -> Adm: shows the data and request a confirmation
deactivate System


Adm -> System: confirms the data
activate System
System- ->RCC: saveNewClient()
activate RCC
RCC- ->CS:saveNewClient(nc)
activate CS
CS- ->CS:validateNewClient(nc)
activate CS
deactivate CS
CS- ->CS:addNewClient(nc)
activate CS
deactivate CS
CS- ->CS:sendEmail(nc)
activate CS
deactivate CS
CS- ->AF:CreateUser(nc)
activate AF
deactivate AF
deactivate CS
deactivate ML
deactivate RCC
System - -> Adm: informs operation success
deactivate System
deactivate Adm
@enduml

PlantUML version 1.2021.6beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>